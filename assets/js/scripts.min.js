/*! woocommerce-gateway-seedpay 2019-02-06 */
jQuery(function(a){function b(c,d){jQuery.post(seedpay_params.ajax_url,{action:"ajax_seedpay_check_request",transaction_id:c,phone:d},function(e){var f=a.parseJSON(e);if(""!=f.error||0!=a(".seedpay_payment_cancel").val())return a(".seedpay-messages").html(f.error),a(".seedpay_payment_cancel").val("1"),a(".seedpay-number-form-pending").hide(),a(".seedpay-number-form").fadeIn(),f.error;"acceptedAndPaid"==f.response[0].status?(a(".seedpay_payment_success").val(f.response[0].status),a(".seedpay-number-form").hide(),a(".seedpay-number-form-pending").hide(),a(".seedpay-number-form-success").fadeIn(),a(".woocommerce-checkout").submit()):"rejected"==f.response[0].status?(a(".seedpay_payment_cancel").val("1"),a(".seedpay-number-form-pending").hide(),a(".seedpay-number-form").fadeIn()):setTimeout(function(){b(c,d)},5e3)})}1==a(".seedpay_recheck_payment").val()&&b(a(".seedpay_recheck_payment").attr("data-id"),a(".seedpay_recheck_payment").attr("data-pn")),a(document).on("click",".seedpay-cancel-payment-submit",function(){return a(".seedpay_payment_cancel").val("1"),a(".seedpay-number-form-pending").hide(),a(".seedpay-number-form").fadeIn(),!1}),a(document).on("click",".seedpay-request-payment-submit",function(){a(".seedpay-messages").empty(),a(".seedpay_payment_cancel").val("0");var c=a("#seedpay_payment_phone").val();return jQuery.post(seedpay_params.ajax_url,{action:"ajax_seedpay_submit_request",phone:c},function(d){var e=a.parseJSON(d);if(console.log(e),""==e.error){var f=e.request.uniqueTransactionId;a(".seedpay_payment_cart_hash").val(e.request.uniqueTransactionId),a(".seedpay-messages").html(e.response.message),a(".seedpay-number-form").fadeOut(),a(".seedpay-number-form-pending").fadeIn(),b(f,c)}else a(".seedpay-messages").html(e.error)}),!1})});